<form [formGroup]="form" (ngSubmit)="create()">
  <div class="form-group col-md-12 mb-4">
    <label for="registerName" class="mb-2">Nombre</label>
    <input
      type="text"
      class="form-control"
      id="registerName"
      placeholder="Nombre"
      formControlName="firstName"
    />
    <div
      *ngIf="
        form.get('firstName')?.invalid &&
        (form.get('firstName')?.dirty || form.get('firstName')?.touched)
      "
      class="text-danger"
    >
      <div *ngIf="form.get('firstName')?.errors?.['required']">
        El nombre es requerido
      </div>
    </div>
  </div>

  <div class="form-group col-md-12 mb-4">
    <label for="surname" class="mb-2">Apellido</label>
    <input
      type="text"
      class="form-control"
      id="surname"
      placeholder="Apellido"
      formControlName="lastName"
    />
    <div
      *ngIf="
        form.get('lastName')?.invalid &&
        (form.get('lastName')?.dirty || form.get('lastName')?.touched)
      "
      class="text-danger"
    >
      <div *ngIf="form.get('lastName')?.errors?.['required']">
        El apellido es requerido
      </div>
    </div>
  </div>
  <!-- <div class="form-group col-md-12 mb-4">
      <label for="inputDNI" class="mb-2">DNI</label>
      <input type="number" class="form-control" id="inputDNI" placeholder="12.123.123">
    </div> -->
  <!-- <div class="form-group col-md-12 mb-4">
      <label for="inputAddress" class="mb-2">Direccion</label>
      <input type="text" class="form-control" id="inputAddress" placeholder="Av Napoleon 123">
    </div>
    <div class="form-row">
      <div class="form-group col-md-12 mb-4">
        <label for="inputCity" class="mb-2">Provincia</label>
        <select id="inputCity" class="form-control">
          <option selected>Provincia</option>
          <option>Formosa</option>
        </select>
      </div>
    </div> -->
  <div class="form-group col-md-12 mb-4">
    <label for="email1" class="mb-2">Email</label>
    <input
      type="email"
      class="form-control"
      id="email"
      placeholder="Email"
      formControlName="email"
    />
    <div
      *ngIf="
        form.get('email')?.invalid &&
        (form.get('email')?.dirty || form.get('email')?.touched)
      "
      class="text-danger"
    >
      <div *ngIf="form.get('email')?.errors?.['required']">
        El email es requerido
      </div>
      <div *ngIf="form.get('email')?.errors?.['email']">
        El email no es válido
      </div>
    </div>
  </div>

  <div class="form-group col-md-12 mb-4">
    <label for="inputPassword" class="mb-2">Define una contraseña</label>
    <input
      type="password"
      class="form-control"
      id="password"
      placeholder="Contraseña"
      formControlName="password"
    />
    <div
      *ngIf="
        form.get('password')?.invalid &&
        (form.get('password')?.dirty || form.get('password')?.touched)
      "
      class="text-danger"
    >
      <div *ngIf="form.get('password')?.errors?.['required']">
        La contraseña es requerida
      </div>
    </div>

    <label for="inputPassword" class="mb-2"></label>
    <input
      type="password"
      class="form-control"
      id="password2"
      placeholder="Repetir contraseña"
      formControlName="password2"
    />
    <div
      *ngIf="
        form.get('password2')?.invalid &&
        (form.get('password2')?.dirty || form.get('password2')?.touched)
      "
      class="text-danger"
    >
      <div *ngIf="form.get('password2')?.errors?.['mismatch']">
        Las contraseñas no coinciden
      </div>
    </div>
  </div>
  <!-- multiple option de tipo de subscripcion -->
  <div class="form-group col-md-12 mb-4">
    <label for="inputSubscription" class="mb-2">Tipo de suscripción</label>
    <select
      id="inputSubscription"
      class="form-control"
      formControlName="id_subscription"
    >
      <option value="" disabled selected>Selecciona una suscripción</option>
      <option value="1">Gratis</option>
      <option value="2">Basic</option>
      <option value="3">Premium</option>
    </select>
    <div
      *ngIf="
        form.get('id_subscription')?.invalid &&
        (form.get('id_subscription')?.dirty ||
          form.get('id_subscription')?.touched)
      "
      class="text-danger"
    >
      <div *ngIf="form.get('id_subscription')?.errors?.['required']">
        Debes seleccionar un tipo de suscripción
      </div>
    </div>
  </div>

  <div class="col-sm-12 mb-4">
    <div class="card conditionTerm-container">
      <div class="card-body">
        <h5 class="card-title">Términos y condiciones</h5>
        <p class="card-text">
          proyecto en beta publica, no se garantiza la seguridad de los datos
          <!--Para crear tu cuenta es necesario que aceptes los
               <a href="#">Términos y condiciones</a>
              de Secretario Virtual-->
        </p>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="gridCheck" />
          <label class="form-check-label" for="gridCheck">
            Acepto beta publica de Secretario Virtual
          </label>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="status === 'failed'">
    <p class="text-danger">El usuario no se pudo crear</p>
  </div>
  <div *ngIf="status == 'loading'">
    <div class="spinner"></div>
  </div>
  <button type="submit" class="btn card-link">Crear cuenta</button>
</form>
